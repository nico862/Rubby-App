{"version":3,"sources":["app/utils/urn.ts"],"names":[],"mappings":";AACA,MAAM,SAAS,GAAG,WAAW,CAAC;AAE9B,iBAAwB,QAAgB,EAAE,UAAkB,EAAE,aAAa,GAAW,EAAE;IACtF,MAAM,MAAM,GAAG,CAAC,aAAa,KAAK,EAAE,GAAG,UAAU,GAAG,GAAG,aAAa,IAAI,UAAU,EAAE,CAAC,CAAC;IACtF,MAAM,CAAC,GAAG,SAAS,IAAI,QAAQ,IAAI,MAAM,EAAE,CAAC;AAC9C,CAAC;AAHe,eAAO,UAGtB,CAAA;AAED,mBAA0B,GAAW;IACnC,sCAAsC;IACtC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QACvC,MAAM,KAAK,GAAG,UAAU,CAAC,CAAC,2EAA2E;QACrG,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC9B,MAAM,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACxB,MAAM,CAAC,MAAM,CAAC;IAEhB,CAAC;IAAC,IAAI,CAAC,CAAC;QACN,MAAM,KAAK,GAAG,cAAc,CAAC,CAAC,4EAA4E;QAC1G,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC9B,MAAM,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACxB,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;AAGH,CAAC;AAhBe,iBAAS,YAgBxB,CAAA","file":"app/utils/urn.js","sourcesContent":["\nconst urnPrefix = \"urn:ruuby\";\n\nexport function convert(resource: string, identifier: string, salonUniqueId: string = \"\"): string {\n  const suffix = (salonUniqueId === \"\" ? identifier : `${salonUniqueId}-${identifier}`);\n  return `${urnPrefix}:${resource}:${suffix}`;\n}\n\nexport function extractId(urn: string): string {\n  // if this is true then we have a guid\n  if ((urn.match(/-/g) || []).length > 1) {\n    const regex = /.*:(.*)/g; // Find the last digits e.g. urn:ruuby:treatment:296513579-41 shout find 41\n    const match = regex.exec(urn);\n    const result = match[1];\n    return result;\n\n  } else { // else we either have a salon id followed by the database id, or just the database id\n    const regex = /\\d+(?!.*\\d)/g; // find the last digits e.g. urn:ruuby:treatment:296513579-41 should find 41\n    const match = regex.exec(urn);\n    const result = match[0];\n    return result;\n  }\n\n\n}\n"],"sourceRoot":"/source/"}